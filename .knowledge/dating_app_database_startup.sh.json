{"is_source_file": true, "format": "bash script", "description": "A startup script for initializing and configuring a PostgreSQL database server, including setup of data directory, permissions, database roles, and readiness checks.", "external_files": ["/usr/lib/postgresql/", "${PGDATA:-/var/lib/postgresql/data}", "${POSTGRES_DB:-myapp}", "${POSTGRES_USER:-appuser}", "${POSTGRES_PASSWORD:-dbuser123}", "${POSTGRES_PORT:-5001}"], "external_methods": ["ls", "mkdir", "command -v", "sudo", "chown", "chmod", "sudo -u", "run_as_postgres", "cat", "grep", "sleep", "format"], "published": ["db_connection.txt"], "classes": [], "methods": [{"name": "ensure_dir", "description": "Creates a directory if it does not exist."}, {"name": "is_writable_dir", "description": "Checks if a directory exists and is writable."}, {"name": "set_perms", "description": "Sets ownership and permissions for the data directory."}, {"name": "run_as_postgres", "description": "Runs a command as the postgres user if possible."}], "calls": ["ls", "mkdir", "command -v", "sudo", "chown", "chmod", "sudo -u postgres", "cat", "grep", "sleep", "format", "run_as_postgres", "psql", "createdb", "pg_isready"], "search-terms": ["PostgreSQL startup", "database initialization", "pg_hba.conf configuration", "database role creation", "port configuration", "readiness probe", "bash database setup"], "state": 2, "file_id": 2, "knowledge_revision": 49, "git_revision": "0cbea7e56885f9c83197ca5e550ec953041e0386", "revision_history": [{"10": "aa2696d67db50323b0bdb66821dd0ab0f255f962"}, {"16": "aa2696d67db50323b0bdb66821dd0ab0f255f962"}, {"19": "5ede99d03854b5e51279fae2c161cd5b0172d823"}, {"24": "e6a689ec89660788b00d91d66d6a7d990b9aad75"}, {"39": "451ce8bb005c5345adb0a1ad23ff822ae84b68b2"}, {"49": "0cbea7e56885f9c83197ca5e550ec953041e0386"}], "filename": "dating_app_database/startup.sh", "format-version": 4, "code-base-name": "https://github.com/kavia-common/preference-dating-app-183584-184324.git:kavia-main"}